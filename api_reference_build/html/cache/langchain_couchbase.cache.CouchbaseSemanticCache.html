

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    
        <title>langchain_couchbase.cache.CouchbaseSemanticCache &mdash; ðŸ¦œðŸ”— LangChain 0.2.17</title>
    
    <link rel="canonical"
          href="https://api.python.langchain.com/en/latest/cache/langchain_couchbase.cache.CouchbaseSemanticCache.html"/>

    

    <link rel="stylesheet"
          href="../_static/css/vendor/bootstrap.min.css"
          type="text/css"/>
            <link rel="stylesheet" href="../_static/pygments.css" type="text/css"/>
            <link rel="stylesheet" href="../_static/css/theme.css" type="text/css"/>
            <link rel="stylesheet" href="../_static/autodoc_pydantic.css" type="text/css"/>
            <link rel="stylesheet" href="../_static/copybutton.css" type="text/css"/>
            <link rel="stylesheet" href="../_static/sphinx-dropdown.css" type="text/css"/>
            <link rel="stylesheet" href="../_static/panels-bootstrap.min.css" type="text/css"/>
            <link rel="stylesheet" href="../_static/css/custom.css" type="text/css"/>
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css"/>
    <script id="documentation_options" data-url_root="../"
            src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script> 
</head>
<body>
<div class="banner">
    <p>This is a legacy site. Please use the latest <a href="https://python.langchain.com/v0.2/api_reference/reference.html">v0.2</a> and <a href="https://python.langchain.com/api_reference/">v0.3</a> API references instead.</p>
</div>


<nav id="navbar" class="sk-docs-navbar navbar navbar-expand-md navbar-light bg-light py-0">
  <div class="container-fluid sk-docs-container px-0">
    <button
      id="sk-navbar-toggler"
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="sk-navbar-collapse collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../langchain_api_reference.html">LangChain</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../core_api_reference.html">Core</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../community_api_reference.html">Community</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../experimental_api_reference.html">Experimental</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" href="../text_splitters_api_reference.html">Text splitters</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../ai21_api_reference.html">ai21</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../airbyte_api_reference.html">airbyte</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../anthropic_api_reference.html">anthropic</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../astradb_api_reference.html">astradb</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../aws_api_reference.html">aws</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../azure_dynamic_sessions_api_reference.html">azure-dynamic-sessions</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../box_api_reference.html">box</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../chroma_api_reference.html">chroma</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../cohere_api_reference.html">cohere</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../couchbase_api_reference.html">couchbase</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../elasticsearch_api_reference.html">elasticsearch</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../exa_api_reference.html">exa</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../fireworks_api_reference.html">fireworks</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../google_community_api_reference.html">google-community</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../google_genai_api_reference.html">google-genai</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../google_vertexai_api_reference.html">google-vertexai</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../groq_api_reference.html">groq</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../huggingface_api_reference.html">huggingface</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../ibm_api_reference.html">ibm</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../milvus_api_reference.html">milvus</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../mistralai_api_reference.html">mistralai</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../mongodb_api_reference.html">mongodb</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../nomic_api_reference.html">nomic</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../nvidia_ai_endpoints_api_reference.html">nvidia-ai-endpoints</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../ollama_api_reference.html">ollama</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../openai_api_reference.html">openai</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../pinecone_api_reference.html">pinecone</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../postgres_api_reference.html">postgres</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../prompty_api_reference.html">prompty</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../qdrant_api_reference.html">qdrant</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../robocorp_api_reference.html">robocorp</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../together_api_reference.html">together</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../unstructured_api_reference.html">unstructured</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../voyageai_api_reference.html">voyageai</a>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link nav-more-item-mobile-items" href="../weaviate_api_reference.html">weaviate</a>
        </li>
        <li class="nav-item dropdown nav-more-item-dropdown">
          <a class="sk-nav-link nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Partner libs</a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              <a class="sk-nav-dropdown-item dropdown-item" href="../ai21_api_reference.html">ai21</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../airbyte_api_reference.html">airbyte</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../anthropic_api_reference.html">anthropic</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../astradb_api_reference.html">astradb</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../aws_api_reference.html">aws</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../azure_dynamic_sessions_api_reference.html">azure-dynamic-sessions</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../box_api_reference.html">box</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../chroma_api_reference.html">chroma</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../cohere_api_reference.html">cohere</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../couchbase_api_reference.html">couchbase</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../elasticsearch_api_reference.html">elasticsearch</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../exa_api_reference.html">exa</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../fireworks_api_reference.html">fireworks</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../google_community_api_reference.html">google-community</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../google_genai_api_reference.html">google-genai</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../google_vertexai_api_reference.html">google-vertexai</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../groq_api_reference.html">groq</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../huggingface_api_reference.html">huggingface</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../ibm_api_reference.html">ibm</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../milvus_api_reference.html">milvus</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../mistralai_api_reference.html">mistralai</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../mongodb_api_reference.html">mongodb</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../nomic_api_reference.html">nomic</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../nvidia_ai_endpoints_api_reference.html">nvidia-ai-endpoints</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../ollama_api_reference.html">ollama</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../openai_api_reference.html">openai</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../pinecone_api_reference.html">pinecone</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../postgres_api_reference.html">postgres</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../prompty_api_reference.html">prompty</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../qdrant_api_reference.html">qdrant</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../robocorp_api_reference.html">robocorp</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../together_api_reference.html">together</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../unstructured_api_reference.html">unstructured</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../voyageai_api_reference.html">voyageai</a>
              <a class="sk-nav-dropdown-item dropdown-item" href="../weaviate_api_reference.html">weaviate</a>
          </div>
        </li>
        <li class="nav-item">
          <a class="sk-nav-link nav-link" target="_blank" rel="noopener noreferrer" href="https://python.langchain.com/">Docs</a>
        </li>
      </ul>
      <div id="searchbox" role="search">
          <div class="searchformwrapper">
          <form class="search" action="../search.html" method="get">
            <input class="sk-search-text-input" type="text" name="q" aria-labelledby="searchlabel" />
            <input class="sk-search-text-btn" type="submit" value="Go" />
          </form>
          </div>
      </div>
    </div>
  </div>
</nav>
    <div class="d-flex" id="sk-doc-wrapper">
        <input type="checkbox" name="sk-toggle-checkbox" id="sk-toggle-checkbox">
        <label id="sk-sidemenu-toggle" class="sk-btn-toggle-toc btn sk-btn-primary"
               for="sk-toggle-checkbox">Toggle Menu</label>
        <div id="sk-sidebar-wrapper" class="border-right">
            <div class="sk-sidebar-toc-wrapper">
                    <div class="sk-sidebar-toc">
                        <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">langchain_couchbase.cache</span></code>.CouchbaseSemanticCache</a><ul>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache</span></code></a><ul>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.__init__"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.__init__()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aadd_documents"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.aadd_documents()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aadd_texts"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.aadd_texts()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aclear"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.aclear()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.add_documents"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.add_documents()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.add_texts"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.add_texts()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.adelete"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.adelete()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.afrom_documents"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.afrom_documents()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.afrom_texts"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.afrom_texts()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aget_by_ids"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.aget_by_ids()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.alookup"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.alookup()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.amax_marginal_relevance_search"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.amax_marginal_relevance_search()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.amax_marginal_relevance_search_by_vector"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.amax_marginal_relevance_search_by_vector()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.as_retriever"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.as_retriever()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asearch"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.asearch()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.asimilarity_search()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_by_vector"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.asimilarity_search_by_vector()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_with_relevance_scores"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.asimilarity_search_with_relevance_scores()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_with_score"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.asimilarity_search_with_score()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aupdate"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.aupdate()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.clear"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.clear()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.delete"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.delete()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.from_documents"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.from_documents()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.from_texts"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.from_texts()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.get_by_ids"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.get_by_ids()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.lookup"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.lookup()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.max_marginal_relevance_search"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.max_marginal_relevance_search()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.max_marginal_relevance_search_by_vector"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.max_marginal_relevance_search_by_vector()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.search"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.search()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.similarity_search()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_by_vector"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.similarity_search_by_vector()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_relevance_scores"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.similarity_search_with_relevance_scores()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_score"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.similarity_search_with_score()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_score_by_vector"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.similarity_search_with_score_by_vector()</span></code></a></li>
<li><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.update"><code class="docutils literal notranslate"><span class="pre">CouchbaseSemanticCache.update()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

                    </div>
            </div>
        </div>
        <div id="sk-page-content-wrapper">
            <div class="sk-page-content container-fluid body px-md-3" role="main">
                
  <section id="langchain-couchbase-cache-couchbasesemanticcache">
<h1><a class="reference internal" href="../couchbase_api_reference.html#module-langchain_couchbase.cache" title="langchain_couchbase.cache"><code class="xref py py-mod docutils literal notranslate"><span class="pre">langchain_couchbase.cache</span></code></a>.CouchbaseSemanticCache<a class="headerlink" href="#langchain-couchbase-cache-couchbasesemanticcache" title="Permalink to this heading">Â¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">langchain_couchbase.cache.</span></span><span class="sig-name descname"><span class="pre">CouchbaseSemanticCache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Cluster</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="langchain_core.embeddings.embeddings.Embeddings"><span class="pre">Embeddings</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/langchain_couchbase/cache.html#CouchbaseSemanticCache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Couchbase Semantic Cache
Cache backed by a Couchbase Server with Vector Store support</p>
<p>Initialize the Couchbase LLM Cache
:param cluster: couchbase cluster object with active connection.
:type cluster: Cluster
:param embedding: embedding model to use.
:type embedding: Embeddings
:param bucket_name: name of the bucket to store documents in.
:type bucket_name: str
:param scope_name: name of the scope in bucket to store documents in.
:type scope_name: str
:param collection_name: name of the collection in the scope to store</p>
<blockquote>
<div><p>documents in.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_name</strong> (<em>str</em>) â€“ name of the Search index to use.</p></li>
<li><p><strong>score_threshold</strong> (<em>float</em>) â€“ score threshold to use for filtering results.</p></li>
<li><p><strong>cluster</strong> (<em>Cluster</em>) â€“ </p></li>
<li><p><strong>embedding</strong> (<a class="reference internal" href="../embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="langchain_core.embeddings.embeddings.Embeddings"><em>Embeddings</em></a>) â€“ </p></li>
<li><p><strong>bucket_name</strong> (<em>str</em>) â€“ </p></li>
<li><p><strong>scope_name</strong> (<em>str</em>) â€“ </p></li>
<li><p><strong>collection_name</strong> (<em>str</em>) â€“ </p></li>
</ul>
</dd>
</dl>
<p class="rubric">Attributes</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">DEFAULT_BATCH_SIZE</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">LLM</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">RETURN_VAL</span></code></p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">embeddings</span></code></p></td>
<td><p>Return the query embedding object.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.__init__" title="langchain_couchbase.cache.CouchbaseSemanticCache.__init__"><code class="xref py py-obj docutils literal notranslate"><span class="pre">__init__</span></code></a>(cluster,Â embedding,Â bucket_name,Â ...)</p></td>
<td><p>Initialize the Couchbase LLM Cache :param cluster: couchbase cluster object with active connection. :type cluster: Cluster :param embedding: embedding model to use. :type embedding: Embeddings :param bucket_name: name of the bucket to store documents in. :type bucket_name: str :param scope_name: name of the scope in bucket to store documents in. :type scope_name: str :param collection_name: name of the collection in the scope to store                         documents in. :type collection_name: str :param index_name: name of the Search index to use. :type index_name: str :param score_threshold: score threshold to use for filtering results. :type score_threshold: float.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aadd_documents" title="langchain_couchbase.cache.CouchbaseSemanticCache.aadd_documents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aadd_documents</span></code></a>(documents,Â **kwargs)</p></td>
<td><p>Async run more documents through the embeddings and add to the vectorstore.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aadd_texts" title="langchain_couchbase.cache.CouchbaseSemanticCache.aadd_texts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aadd_texts</span></code></a>(texts[,Â metadatas])</p></td>
<td><p>Async run more texts through the embeddings and add to the vectorstore.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aclear" title="langchain_couchbase.cache.CouchbaseSemanticCache.aclear"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aclear</span></code></a>(**kwargs)</p></td>
<td><p>Async clear cache that can take additional keyword arguments.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.add_documents" title="langchain_couchbase.cache.CouchbaseSemanticCache.add_documents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_documents</span></code></a>(documents,Â **kwargs)</p></td>
<td><p>Add or update documents in the vectorstore.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.add_texts" title="langchain_couchbase.cache.CouchbaseSemanticCache.add_texts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_texts</span></code></a>(texts[,Â metadatas,Â ids,Â batch_size])</p></td>
<td><p>Run texts through the embeddings and persist in vectorstore.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.adelete" title="langchain_couchbase.cache.CouchbaseSemanticCache.adelete"><code class="xref py py-obj docutils literal notranslate"><span class="pre">adelete</span></code></a>([ids])</p></td>
<td><p>Async delete by vector ID or other criteria.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.afrom_documents" title="langchain_couchbase.cache.CouchbaseSemanticCache.afrom_documents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">afrom_documents</span></code></a>(documents,Â embedding,Â **kwargs)</p></td>
<td><p>Async return VectorStore initialized from documents and embeddings.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.afrom_texts" title="langchain_couchbase.cache.CouchbaseSemanticCache.afrom_texts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">afrom_texts</span></code></a>(texts,Â embedding[,Â metadatas])</p></td>
<td><p>Async return VectorStore initialized from texts and embeddings.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aget_by_ids" title="langchain_couchbase.cache.CouchbaseSemanticCache.aget_by_ids"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aget_by_ids</span></code></a>(ids,Â /)</p></td>
<td><p>Async get documents by their IDs.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.alookup" title="langchain_couchbase.cache.CouchbaseSemanticCache.alookup"><code class="xref py py-obj docutils literal notranslate"><span class="pre">alookup</span></code></a>(prompt,Â llm_string)</p></td>
<td><p>Async look up based on prompt and llm_string.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.amax_marginal_relevance_search" title="langchain_couchbase.cache.CouchbaseSemanticCache.amax_marginal_relevance_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">amax_marginal_relevance_search</span></code></a>(query[,Â k,Â ...])</p></td>
<td><p>Async return docs selected using the maximal marginal relevance.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.amax_marginal_relevance_search_by_vector" title="langchain_couchbase.cache.CouchbaseSemanticCache.amax_marginal_relevance_search_by_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">amax_marginal_relevance_search_by_vector</span></code></a>(...)</p></td>
<td><p>Async return docs selected using the maximal marginal relevance.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.as_retriever" title="langchain_couchbase.cache.CouchbaseSemanticCache.as_retriever"><code class="xref py py-obj docutils literal notranslate"><span class="pre">as_retriever</span></code></a>(**kwargs)</p></td>
<td><p>Return VectorStoreRetriever initialized from this VectorStore.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asearch" title="langchain_couchbase.cache.CouchbaseSemanticCache.asearch"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asearch</span></code></a>(query,Â search_type,Â **kwargs)</p></td>
<td><p>Async return docs most similar to query using a specified search type.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search" title="langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asimilarity_search</span></code></a>(query[,Â k])</p></td>
<td><p>Async return docs most similar to query.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_by_vector" title="langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_by_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asimilarity_search_by_vector</span></code></a>(embedding[,Â k])</p></td>
<td><p>Async return docs most similar to embedding vector.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_with_relevance_scores" title="langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_with_relevance_scores"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asimilarity_search_with_relevance_scores</span></code></a>(query)</p></td>
<td><p>Async return docs and relevance scores in the range [0, 1].</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_with_score" title="langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_with_score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">asimilarity_search_with_score</span></code></a>(*args,Â **kwargs)</p></td>
<td><p>Async run similarity search with distance.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aupdate" title="langchain_couchbase.cache.CouchbaseSemanticCache.aupdate"><code class="xref py py-obj docutils literal notranslate"><span class="pre">aupdate</span></code></a>(prompt,Â llm_string,Â return_val)</p></td>
<td><p>Async update cache based on prompt and llm_string.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.clear" title="langchain_couchbase.cache.CouchbaseSemanticCache.clear"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clear</span></code></a>(**kwargs)</p></td>
<td><p>Clear the cache.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.delete" title="langchain_couchbase.cache.CouchbaseSemanticCache.delete"><code class="xref py py-obj docutils literal notranslate"><span class="pre">delete</span></code></a>([ids])</p></td>
<td><p>Delete documents from the vector store by ids.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.from_documents" title="langchain_couchbase.cache.CouchbaseSemanticCache.from_documents"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_documents</span></code></a>(documents,Â embedding,Â **kwargs)</p></td>
<td><p>Return VectorStore initialized from documents and embeddings.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.from_texts" title="langchain_couchbase.cache.CouchbaseSemanticCache.from_texts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">from_texts</span></code></a>(texts,Â embedding[,Â metadatas])</p></td>
<td><p>Construct a Couchbase vector store from a list of texts.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.get_by_ids" title="langchain_couchbase.cache.CouchbaseSemanticCache.get_by_ids"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_by_ids</span></code></a>(ids,Â /)</p></td>
<td><p>Get documents by their IDs.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.lookup" title="langchain_couchbase.cache.CouchbaseSemanticCache.lookup"><code class="xref py py-obj docutils literal notranslate"><span class="pre">lookup</span></code></a>(prompt,Â llm_string)</p></td>
<td><p>Look up from cache based on the semantic similarity of the prompt</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.max_marginal_relevance_search" title="langchain_couchbase.cache.CouchbaseSemanticCache.max_marginal_relevance_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">max_marginal_relevance_search</span></code></a>(query[,Â k,Â ...])</p></td>
<td><p>Return docs selected using the maximal marginal relevance.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.max_marginal_relevance_search_by_vector" title="langchain_couchbase.cache.CouchbaseSemanticCache.max_marginal_relevance_search_by_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">max_marginal_relevance_search_by_vector</span></code></a>(...)</p></td>
<td><p>Return docs selected using the maximal marginal relevance.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.search" title="langchain_couchbase.cache.CouchbaseSemanticCache.search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">search</span></code></a>(query,Â search_type,Â **kwargs)</p></td>
<td><p>Return docs most similar to query using a specified search type.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search" title="langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search"><code class="xref py py-obj docutils literal notranslate"><span class="pre">similarity_search</span></code></a>(query[,Â k,Â search_options])</p></td>
<td><p>Return documents most similar to embedding vector with their scores.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_by_vector" title="langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_by_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">similarity_search_by_vector</span></code></a>(embedding[,Â k,Â ...])</p></td>
<td><p>Return documents that are most similar to the vector embedding.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_relevance_scores" title="langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_relevance_scores"><code class="xref py py-obj docutils literal notranslate"><span class="pre">similarity_search_with_relevance_scores</span></code></a>(query)</p></td>
<td><p>Return docs and relevance scores in the range [0, 1].</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_score" title="langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_score"><code class="xref py py-obj docutils literal notranslate"><span class="pre">similarity_search_with_score</span></code></a>(query[,Â k,Â ...])</p></td>
<td><p>Return documents that are most similar to the query with their scores.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_score_by_vector" title="langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_score_by_vector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">similarity_search_with_score_by_vector</span></code></a>(embedding)</p></td>
<td><p>Return docs most similar to embedding vector with their scores.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#langchain_couchbase.cache.CouchbaseSemanticCache.update" title="langchain_couchbase.cache.CouchbaseSemanticCache.update"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update</span></code></a>(prompt,Â llm_string,Â return_val)</p></td>
<td><p>Update cache based on the prompt and llm_string</p></td>
</tr>
</tbody>
</table>
<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Cluster</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="langchain_core.embeddings.embeddings.Embeddings"><span class="pre">Embeddings</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_threshold</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/langchain_couchbase/cache.html#CouchbaseSemanticCache.__init__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.__init__" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Initialize the Couchbase LLM Cache
:param cluster: couchbase cluster object with active connection.
:type cluster: Cluster
:param embedding: embedding model to use.
:type embedding: Embeddings
:param bucket_name: name of the bucket to store documents in.
:type bucket_name: str
:param scope_name: name of the scope in bucket to store documents in.
:type scope_name: str
:param collection_name: name of the collection in the scope to store</p>
<blockquote>
<div><p>documents in.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index_name</strong> (<em>str</em>) â€“ name of the Search index to use.</p></li>
<li><p><strong>score_threshold</strong> (<em>float</em>) â€“ score threshold to use for filtering results.</p></li>
<li><p><strong>cluster</strong> (<em>Cluster</em>) â€“ </p></li>
<li><p><strong>embedding</strong> (<a class="reference internal" href="../embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="langchain_core.embeddings.embeddings.Embeddings"><em>Embeddings</em></a>) â€“ </p></li>
<li><p><strong>bucket_name</strong> (<em>str</em>) â€“ </p></li>
<li><p><strong>scope_name</strong> (<em>str</em>) â€“ </p></li>
<li><p><strong>collection_name</strong> (<em>str</em>) â€“ </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.aadd_documents">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aadd_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aadd_documents" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async run more documents through the embeddings and add to
the vectorstore.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>documents</strong> (<em>List</em><em>[</em><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><em>Document</em></a><em>]</em>) â€“ Documents to add to the vectorstore.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) â€“ Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of IDs of the added texts.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> â€“ If the number of IDs does not match the number of documents.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.aadd_texts">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aadd_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadatas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aadd_texts" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async run more texts through the embeddings and add to the vectorstore.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) â€“ Iterable of strings to add to the vectorstore.</p></li>
<li><p><strong>metadatas</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>dict</em><em>]</em><em>]</em>) â€“ Optional list of metadatas associated with the texts.
Default is None.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) â€“ vectorstore specific parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of ids from adding the texts into the vectorstore.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ValueError</strong> â€“ If the number of metadatas does not match the number of texts.</p></li>
<li><p><strong>ValueError</strong> â€“ If the number of ids does not match the number of texts.</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>List</em>[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.aclear">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aclear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aclear" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async clear cache that can take additional keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<em>Any</em>) â€“ </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.add_documents">
<span class="sig-name descname"><span class="pre">add_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.add_documents" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Add or update documents in the vectorstore.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>documents</strong> (<em>List</em><em>[</em><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><em>Document</em></a><em>]</em>) â€“ Documents to add to the vectorstore.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) â€“ Additional keyword arguments.
if kwargs contains ids and documents contain ids,
the ids in the kwargs will receive precedence.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of IDs of the added texts.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> â€“ If the number of ids does not match the number of documents.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.add_texts">
<span class="sig-name descname"><span class="pre">add_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadatas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.add_texts" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Run texts through the embeddings and persist in vectorstore.</p>
<p>If the document IDs are passed, the existing documents (if any) will be
overwritten with the new ones.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> (<em>Iterable</em><em>[</em><em>str</em><em>]</em>) â€“ Iterable of strings to add to the vectorstore.</p></li>
<li><p><strong>metadatas</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>Dict</em><em>]</em><em>]</em>) â€“ Optional list of metadatas associated
with the texts.</p></li>
<li><p><strong>ids</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) â€“ Optional list of ids associated with the texts.
IDs have to be unique strings across the collection.
If it is not specified uuids are generated and used as ids.</p></li>
<li><p><strong>batch_size</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) â€“ Optional batch size for bulk insertions.
Default is 100.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) â€“ </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of ids from adding the texts into the vectorstore.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.adelete">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">adelete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.adelete" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async delete by vector ID or other criteria.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ids</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) â€“ List of ids to delete. If None, delete all. Default is None.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) â€“ Other keyword arguments that subclasses might use.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if deletion is successful,
False otherwise, None if not implemented.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Optional[bool]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.afrom_documents">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">afrom_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="langchain_core.embeddings.embeddings.Embeddings"><span class="pre">Embeddings</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VST</span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.afrom_documents" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async return VectorStore initialized from documents and embeddings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>documents</strong> (<em>List</em><em>[</em><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><em>Document</em></a><em>]</em>) â€“ List of Documents to add to the vectorstore.</p></li>
<li><p><strong>embedding</strong> (<a class="reference internal" href="../embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="langchain_core.embeddings.embeddings.Embeddings"><em>Embeddings</em></a>) â€“ Embedding function to use.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) â€“ Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>VectorStore initialized from documents and embeddings.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../vectorstores/langchain_core.vectorstores.base.VectorStore.html#langchain_core.vectorstores.base.VectorStore" title="langchain_core.vectorstores.base.VectorStore">VectorStore</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.afrom_texts">
<em class="property"><span class="pre">async</span><span class="w"> </span><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">afrom_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="langchain_core.embeddings.embeddings.Embeddings"><span class="pre">Embeddings</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadatas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VST</span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.afrom_texts" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async return VectorStore initialized from texts and embeddings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) â€“ Texts to add to the vectorstore.</p></li>
<li><p><strong>embedding</strong> (<a class="reference internal" href="../embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="langchain_core.embeddings.embeddings.Embeddings"><em>Embeddings</em></a>) â€“ Embedding function to use.</p></li>
<li><p><strong>metadatas</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>dict</em><em>]</em><em>]</em>) â€“ Optional list of metadatas associated with the texts.
Default is None.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) â€“ Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>VectorStore initialized from texts and embeddings.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../vectorstores/langchain_core.vectorstores.base.VectorStore.html#langchain_core.vectorstores.base.VectorStore" title="langchain_core.vectorstores.base.VectorStore">VectorStore</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.aget_by_ids">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aget_by_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aget_by_ids" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async get documents by their IDs.</p>
<p>The returned documents are expected to have the ID field set to the ID of the
document in the vector store.</p>
<p>Fewer documents may be returned than requested if some IDs are not found or
if there are duplicated IDs.</p>
<p>Users should not assume that the order of the returned documents matches
the order of the input IDs. Instead, users should rely on the ID field of the
returned documents.</p>
<p>This method should <strong>NOT</strong> raise exceptions if no documents are found for
some IDs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ids</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>) â€“ List of ids to retrieve.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>]</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.2.11.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.alookup">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">alookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">llm_string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../outputs/langchain_core.outputs.generation.Generation.html#langchain_core.outputs.generation.Generation" title="langchain_core.outputs.generation.Generation"><span class="pre">Generation</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.alookup" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async look up based on prompt and llm_string.</p>
<p>A cache implementation is expected to generate a key from the 2-tuple
of prompt and llm_string (e.g., by concatenating them with a delimiter).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt</strong> (<em>str</em>) â€“ a string representation of the prompt.
In the case of a Chat model, the prompt is a non-trivial
serialization of the prompt into the language model.</p></li>
<li><p><strong>llm_string</strong> (<em>str</em>) â€“ A string representation of the LLM configuration.
This is used to capture the invocation parameters of the LLM
(e.g., model name, temperature, stop tokens, max tokens, etc.).
These invocation parameters are serialized into a string
representation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>On a cache miss, return None. On a cache hit, return the cached value.
The cached value is a list of Generations (or subclasses).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em>Optional</em>[<em>Sequence</em>[<a class="reference internal" href="../outputs/langchain_core.outputs.generation.Generation.html#langchain_core.outputs.generation.Generation" title="langchain_core.outputs.generation.Generation"><em>Generation</em></a>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.amax_marginal_relevance_search">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">amax_marginal_relevance_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_mult</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.amax_marginal_relevance_search" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async return docs selected using the maximal marginal relevance.</p>
<p>Maximal marginal relevance optimizes for similarity to query AND diversity
among selected documents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) â€“ Text to look up documents similar to.</p></li>
<li><p><strong>k</strong> (<em>int</em>) â€“ Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>fetch_k</strong> (<em>int</em>) â€“ Number of Documents to fetch to pass to MMR algorithm.
Default is 20.</p></li>
<li><p><strong>lambda_mult</strong> (<em>float</em>) â€“ Number between 0 and 1 that determines the degree
of diversity among the results with 0 corresponding
to maximum diversity and 1 to minimum diversity.
Defaults to 0.5.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) â€“ </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents selected by maximal marginal relevance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.amax_marginal_relevance_search_by_vector">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">amax_marginal_relevance_search_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_mult</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.amax_marginal_relevance_search_by_vector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async return docs selected using the maximal marginal relevance.</p>
<p>Maximal marginal relevance optimizes for similarity to query AND diversity
among selected documents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) â€“ Embedding to look up documents similar to.</p></li>
<li><p><strong>k</strong> (<em>int</em>) â€“ Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>fetch_k</strong> (<em>int</em>) â€“ Number of Documents to fetch to pass to MMR algorithm.
Default is 20.</p></li>
<li><p><strong>lambda_mult</strong> (<em>float</em>) â€“ Number between 0 and 1 that determines the degree
of diversity among the results with 0 corresponding
to maximum diversity and 1 to minimum diversity.
Defaults to 0.5.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) â€“ Arguments to pass to the search method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents selected by maximal marginal relevance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.as_retriever">
<span class="sig-name descname"><span class="pre">as_retriever</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../vectorstores/langchain_core.vectorstores.base.VectorStoreRetriever.html#langchain_core.vectorstores.base.VectorStoreRetriever" title="langchain_core.vectorstores.base.VectorStoreRetriever"><span class="pre">VectorStoreRetriever</span></a></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.as_retriever" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return VectorStoreRetriever initialized from this VectorStore.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>Any</em>) â€“ <p>Keyword arguments to pass to the search function.
Can include:
search_type (Optional[str]): Defines the type of search that</p>
<blockquote>
<div><p>the Retriever should perform.
Can be â€œsimilarityâ€ (default), â€œmmrâ€, or
â€œsimilarity_score_thresholdâ€.</p>
</div></blockquote>
<dl>
<dt>search_kwargs (Optional[Dict]): Keyword arguments to pass to the</dt><dd><dl>
<dt>search function. Can include things like:</dt><dd><p>k: Amount of documents to return (Default: 4)
score_threshold: Minimum relevance threshold</p>
<blockquote>
<div><p>for similarity_score_threshold</p>
</div></blockquote>
<dl class="simple">
<dt>fetch_k: Amount of documents to pass to MMR algorithm</dt><dd><p>(Default: 20)</p>
</dd>
<dt>lambda_mult: Diversity of results returned by MMR;</dt><dd><p>1 for minimum diversity and 0 for maximum. (Default: 0.5)</p>
</dd>
</dl>
<p>filter: Filter by document metadata</p>
</dd>
</dl>
</dd>
</dl>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Retriever class for VectorStore.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../vectorstores/langchain_core.vectorstores.base.VectorStoreRetriever.html#langchain_core.vectorstores.base.VectorStoreRetriever" title="langchain_core.vectorstores.base.VectorStoreRetriever">VectorStoreRetriever</a></p>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Retrieve more documents with higher diversity</span>
<span class="c1"># Useful if your dataset has many similar documents</span>
<span class="n">docsearch</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span>
    <span class="n">search_type</span><span class="o">=</span><span class="s2">&quot;mmr&quot;</span><span class="p">,</span>
    <span class="n">search_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;k&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;lambda_mult&#39;</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Fetch more documents for the MMR algorithm to consider</span>
<span class="c1"># But only return the top 5</span>
<span class="n">docsearch</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span>
    <span class="n">search_type</span><span class="o">=</span><span class="s2">&quot;mmr&quot;</span><span class="p">,</span>
    <span class="n">search_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;k&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;fetch_k&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Only retrieve documents that have a relevance score</span>
<span class="c1"># Above a certain threshold</span>
<span class="n">docsearch</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span>
    <span class="n">search_type</span><span class="o">=</span><span class="s2">&quot;similarity_score_threshold&quot;</span><span class="p">,</span>
    <span class="n">search_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;score_threshold&#39;</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Only get the single most similar document from the dataset</span>
<span class="n">docsearch</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span><span class="n">search_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;k&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>

<span class="c1"># Use a filter to only retrieve documents from a specific paper</span>
<span class="n">docsearch</span><span class="o">.</span><span class="n">as_retriever</span><span class="p">(</span>
    <span class="n">search_kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;filter&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;paper_title&#39;</span><span class="p">:</span><span class="s1">&#39;GPT-4 Technical Report&#39;</span><span class="p">}}</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.asearch">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">asearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asearch" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async return docs most similar to query using a specified search type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) â€“ Input text.</p></li>
<li><p><strong>search_type</strong> (<em>str</em>) â€“ Type of search to perform. Can be â€œsimilarityâ€,
â€œmmrâ€, or â€œsimilarity_score_thresholdâ€.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) â€“ Arguments to pass to the search method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents most similar to the query.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> â€“ If search_type is not one of â€œsimilarityâ€,
    â€œmmrâ€, or â€œsimilarity_score_thresholdâ€.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">asimilarity_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async return docs most similar to query.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) â€“ Input text.</p></li>
<li><p><strong>k</strong> (<em>int</em>) â€“ Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) â€“ Arguments to pass to the search method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents most similar to the query.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_by_vector">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">asimilarity_search_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_by_vector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async return docs most similar to embedding vector.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) â€“ Embedding to look up documents similar to.</p></li>
<li><p><strong>k</strong> (<em>int</em>) â€“ Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) â€“ Arguments to pass to the search method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents most similar to the query vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_with_relevance_scores">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">asimilarity_search_with_relevance_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_with_relevance_scores" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async return docs and relevance scores in the range [0, 1].</p>
<p>0 is dissimilar, 1 is most similar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) â€“ Input text.</p></li>
<li><p><strong>k</strong> (<em>int</em>) â€“ Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) â€“ <p>kwargs to be passed to similarity search. Should include:
score_threshold: Optional, a floating point value between 0 to 1 to</p>
<blockquote>
<div><p>filter the resulting set of retrieved docs</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Tuples of (doc, similarity_score)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[Tuple[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>, float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_with_score">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">asimilarity_search_with_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.asimilarity_search_with_score" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async run similarity search with distance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*args</strong> (<em>Any</em>) â€“ Arguments to pass to the search method.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) â€“ Arguments to pass to the search method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Tuples of (doc, similarity_score).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[Tuple[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>, float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.aupdate">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aupdate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">llm_string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../outputs/langchain_core.outputs.generation.Generation.html#langchain_core.outputs.generation.Generation" title="langchain_core.outputs.generation.Generation"><span class="pre">Generation</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.aupdate" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Async update cache based on prompt and llm_string.</p>
<p>The prompt and llm_string are used to generate a key for the cache.
The key should match that of the look up method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt</strong> (<em>str</em>) â€“ a string representation of the prompt.
In the case of a Chat model, the prompt is a non-trivial
serialization of the prompt into the language model.</p></li>
<li><p><strong>llm_string</strong> (<em>str</em>) â€“ A string representation of the LLM configuration.
This is used to capture the invocation parameters of the LLM
(e.g., model name, temperature, stop tokens, max tokens, etc.).
These invocation parameters are serialized into a string
representation.</p></li>
<li><p><strong>return_val</strong> (<em>Sequence</em><em>[</em><a class="reference internal" href="../outputs/langchain_core.outputs.generation.Generation.html#langchain_core.outputs.generation.Generation" title="langchain_core.outputs.generation.Generation"><em>Generation</em></a><em>]</em>) â€“ The value to be cached. The value is a list of Generations
(or subclasses).</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/langchain_couchbase/cache.html#CouchbaseSemanticCache.clear"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.clear" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Clear the cache.
This will delete all documents in the collection.
This requires an index on the collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<em>Any</em>) â€“ </p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.delete">
<span class="sig-name descname"><span class="pre">delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.delete" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Delete documents from the vector store by ids.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ids</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) â€“ List of IDs of the documents to delete.</p></li>
<li><p><strong>batch_size</strong> (<em>Optional</em><em>[</em><em>int</em><em>]</em>) â€“ Optional batch size for bulk deletions.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) â€“ </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if all the documents were deleted successfully, False otherwise.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.from_documents">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_documents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">documents</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="langchain_core.embeddings.embeddings.Embeddings"><span class="pre">Embeddings</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">VST</span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.from_documents" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return VectorStore initialized from documents and embeddings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>documents</strong> (<em>List</em><em>[</em><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><em>Document</em></a><em>]</em>) â€“ List of Documents to add to the vectorstore.</p></li>
<li><p><strong>embedding</strong> (<a class="reference internal" href="../embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="langchain_core.embeddings.embeddings.Embeddings"><em>Embeddings</em></a>) â€“ Embedding function to use.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) â€“ Additional keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>VectorStore initialized from documents and embeddings.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../vectorstores/langchain_core.vectorstores.base.VectorStore.html#langchain_core.vectorstores.base.VectorStore" title="langchain_core.vectorstores.base.VectorStore">VectorStore</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.from_texts">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_texts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">texts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="langchain_core.embeddings.embeddings.Embeddings"><span class="pre">Embeddings</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadatas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../vectorstores/langchain_couchbase.vectorstores.CouchbaseVectorStore.html#langchain_couchbase.vectorstores.CouchbaseVectorStore" title="langchain_couchbase.vectorstores.CouchbaseVectorStore"><span class="pre">CouchbaseVectorStore</span></a></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.from_texts" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Construct a Couchbase vector store from a list of texts.</p>
<p class="rubric">Example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
<p>from langchain_couchbase import CouchbaseVectorStore
from langchain_openai import OpenAIEmbeddings</p>
<p>from couchbase.cluster import Cluster
from couchbase.auth import PasswordAuthenticator
from couchbase.options import ClusterOptions
from datetime import timedelta</p>
<p>auth = PasswordAuthenticator(username, password)
options = ClusterOptions(auth)
connect_string = â€œcouchbases://localhostâ€
cluster = Cluster(connect_string, options)</p>
<p># Wait until the cluster is ready for use.
cluster.wait_until_ready(timedelta(seconds=5))</p>
<p>embeddings = OpenAIEmbeddings()</p>
<p>texts = [â€œhelloâ€, â€œworldâ€]</p>
<dl class="simple">
<dt>vectorstore = CouchbaseVectorStore.from_texts(</dt><dd><p>texts,
embedding=embeddings,
cluster=cluster,
bucket_name=â€â€,
scope_name=â€â€,
collection_name=â€â€,
index_name=â€vector-indexâ€,</p>
</dd>
</dl>
<p>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>texts</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) â€“ list of texts to add to the vector store.</p></li>
<li><p><strong>embedding</strong> (<a class="reference internal" href="../embeddings/langchain_core.embeddings.embeddings.Embeddings.html#langchain_core.embeddings.embeddings.Embeddings" title="langchain_core.embeddings.embeddings.Embeddings"><em>Embeddings</em></a>) â€“ embedding function to use.</p></li>
<li><p><strong>metadatas</strong> (<em>optional</em><em>[</em><em>List</em><em>[</em><em>Dict</em><em>]</em>) â€“ list of metadatas to add to documents.</p></li>
<li><p><strong>**kwargs</strong> â€“ Keyword arguments used to initialize the vector store with and/or
passed to <cite>add_texts</cite> method. Check the constructor and/or <cite>add_texts</cite>
for the list of accepted arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A Couchbase vector store.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../vectorstores/langchain_couchbase.vectorstores.CouchbaseVectorStore.html#langchain_couchbase.vectorstores.CouchbaseVectorStore" title="langchain_couchbase.vectorstores.CouchbaseVectorStore"><em>CouchbaseVectorStore</em></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.get_by_ids">
<span class="sig-name descname"><span class="pre">get_by_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.get_by_ids" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Get documents by their IDs.</p>
<p>The returned documents are expected to have the ID field set to the ID of the
document in the vector store.</p>
<p>Fewer documents may be returned than requested if some IDs are not found or
if there are duplicated IDs.</p>
<p>Users should not assume that the order of the returned documents matches
the order of the input IDs. Instead, users should rely on the ID field of the
returned documents.</p>
<p>This method should <strong>NOT</strong> raise exceptions if no documents are found for
some IDs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ids</strong> (<em>Sequence</em><em>[</em><em>str</em><em>]</em>) â€“ List of ids to retrieve.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>]</p>
</dd>
</dl>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.2.11.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.lookup">
<span class="sig-name descname"><span class="pre">lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">llm_string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../outputs/langchain_core.outputs.generation.Generation.html#langchain_core.outputs.generation.Generation" title="langchain_core.outputs.generation.Generation"><span class="pre">Generation</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/langchain_couchbase/cache.html#CouchbaseSemanticCache.lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.lookup" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Look up from cache based on the semantic similarity of the prompt</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt</strong> (<em>str</em>) â€“ </p></li>
<li><p><strong>llm_string</strong> (<em>str</em>) â€“ </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><em>Optional</em>[<em>Sequence</em>[<a class="reference internal" href="../outputs/langchain_core.outputs.generation.Generation.html#langchain_core.outputs.generation.Generation" title="langchain_core.outputs.generation.Generation"><em>Generation</em></a>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.max_marginal_relevance_search">
<span class="sig-name descname"><span class="pre">max_marginal_relevance_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_mult</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.max_marginal_relevance_search" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return docs selected using the maximal marginal relevance.</p>
<p>Maximal marginal relevance optimizes for similarity to query AND diversity
among selected documents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) â€“ Text to look up documents similar to.</p></li>
<li><p><strong>k</strong> (<em>int</em>) â€“ Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>fetch_k</strong> (<em>int</em>) â€“ Number of Documents to fetch to pass to MMR algorithm.
Default is 20.</p></li>
<li><p><strong>lambda_mult</strong> (<em>float</em>) â€“ Number between 0 and 1 that determines the degree
of diversity among the results with 0 corresponding
to maximum diversity and 1 to minimum diversity.
Defaults to 0.5.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) â€“ Arguments to pass to the search method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents selected by maximal marginal relevance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.max_marginal_relevance_search_by_vector">
<span class="sig-name descname"><span class="pre">max_marginal_relevance_search_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lambda_mult</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.max_marginal_relevance_search_by_vector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return docs selected using the maximal marginal relevance.</p>
<p>Maximal marginal relevance optimizes for similarity to query AND diversity
among selected documents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) â€“ Embedding to look up documents similar to.</p></li>
<li><p><strong>k</strong> (<em>int</em>) â€“ Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>fetch_k</strong> (<em>int</em>) â€“ Number of Documents to fetch to pass to MMR algorithm.
Default is 20.</p></li>
<li><p><strong>lambda_mult</strong> (<em>float</em>) â€“ Number between 0 and 1 that determines the degree
of diversity among the results with 0 corresponding
to maximum diversity and 1 to minimum diversity.
Defaults to 0.5.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) â€“ Arguments to pass to the search method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents selected by maximal marginal relevance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.search" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return docs most similar to query using a specified search type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) â€“ Input text</p></li>
<li><p><strong>search_type</strong> (<em>str</em>) â€“ Type of search to perform. Can be â€œsimilarityâ€,
â€œmmrâ€, or â€œsimilarity_score_thresholdâ€.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) â€“ Arguments to pass to the search method.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents most similar to the query.</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ValueError</strong> â€“ If search_type is not one of â€œsimilarityâ€,
    â€œmmrâ€, or â€œsimilarity_score_thresholdâ€.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search">
<span class="sig-name descname"><span class="pre">similarity_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return documents most similar to embedding vector with their scores.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) â€“ Query to look up for similar documents</p></li>
<li><p><strong>k</strong> (<em>int</em>) â€“ Number of Documents to return.
Defaults to 4.</p></li>
<li><p><strong>search_options</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>]</em>) â€“ Optional search options that are
passed to Couchbase search.
Defaults to empty dictionary</p></li>
<li><p><strong>fields</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) â€“ Optional list of fields to include in the
metadata of results. Note that these need to be stored in the index.
If nothing is specified, defaults to all the fields stored in the index.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) â€“ </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents most similar to the query.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em>List</em>[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><em>Document</em></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_by_vector">
<span class="sig-name descname"><span class="pre">similarity_search_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_by_vector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return documents that are most similar to the vector embedding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) â€“ Embedding to look up documents similar to.</p></li>
<li><p><strong>k</strong> (<em>int</em>) â€“ Number of Documents to return.
Defaults to 4.</p></li>
<li><p><strong>search_options</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>]</em>) â€“ Optional search options that are
passed to Couchbase search.
Defaults to empty dictionary.</p></li>
<li><p><strong>fields</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) â€“ Optional list of fields to include in the
metadata of results. Note that these need to be stored in the index.
If nothing is specified, defaults to document text and metadata fields.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) â€“ </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Documents most similar to the query.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em>List</em>[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><em>Document</em></a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_relevance_scores">
<span class="sig-name descname"><span class="pre">similarity_search_with_relevance_scores</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_relevance_scores" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return docs and relevance scores in the range [0, 1].</p>
<p>0 is dissimilar, 1 is most similar.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) â€“ Input text.</p></li>
<li><p><strong>k</strong> (<em>int</em>) â€“ Number of Documents to return. Defaults to 4.</p></li>
<li><p><strong>**kwargs</strong> (<em>Any</em>) â€“ <p>kwargs to be passed to similarity search. Should include:
score_threshold: Optional, a floating point value between 0 to 1 to</p>
<blockquote>
<div><p>filter the resulting set of retrieved docs.</p>
</div></blockquote>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of Tuples of (doc, similarity_score).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>List[Tuple[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document">Document</a>, float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_score">
<span class="sig-name descname"><span class="pre">similarity_search_with_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">query</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_score" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return documents that are most similar to the query with their scores.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>query</strong> (<em>str</em>) â€“ Query to look up for similar documents</p></li>
<li><p><strong>k</strong> (<em>int</em>) â€“ Number of Documents to return.
Defaults to 4.</p></li>
<li><p><strong>search_options</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>]</em>) â€“ Optional search options that are
passed to Couchbase search.
Defaults to empty dictionary.</p></li>
<li><p><strong>fields</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) â€“ Optional list of fields to include in the
metadata of results. Note that these need to be stored in the index.
If nothing is specified, defaults to text and metadata fields.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) â€“ </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of (Document, score) that are most similar to the query.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em>List</em>[<em>Tuple</em>[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><em>Document</em></a>, float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_score_by_vector">
<span class="sig-name descname"><span class="pre">similarity_search_with_score_by_vector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">embedding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">search_options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><span class="pre">Document</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.similarity_search_with_score_by_vector" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Return docs most similar to embedding vector with their scores.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>embedding</strong> (<em>List</em><em>[</em><em>float</em><em>]</em>) â€“ Embedding vector to look up documents similar to.</p></li>
<li><p><strong>k</strong> (<em>int</em>) â€“ Number of Documents to return.
Defaults to 4.</p></li>
<li><p><strong>search_options</strong> (<em>Optional</em><em>[</em><em>Dict</em><em>[</em><em>str</em><em>, </em><em>Any</em><em>]</em><em>]</em>) â€“ Optional search options that are
passed to Couchbase search.
Defaults to empty dictionary.</p></li>
<li><p><strong>fields</strong> (<em>Optional</em><em>[</em><em>List</em><em>[</em><em>str</em><em>]</em><em>]</em>) â€“ Optional list of fields to include in the
metadata of results. Note that these need to be stored in the index.
If nothing is specified, defaults to all the fields stored in the index.</p></li>
<li><p><strong>kwargs</strong> (<em>Any</em>) â€“ </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>List of (Document, score) that are the most similar to the query vector.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><em>List</em>[<em>Tuple</em>[<a class="reference internal" href="../documents/langchain_core.documents.base.Document.html#langchain_core.documents.base.Document" title="langchain_core.documents.base.Document"><em>Document</em></a>, float]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="langchain_couchbase.cache.CouchbaseSemanticCache.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prompt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">llm_string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_val</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../outputs/langchain_core.outputs.generation.Generation.html#langchain_core.outputs.generation.Generation" title="langchain_core.outputs.generation.Generation"><span class="pre">Generation</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/langchain_couchbase/cache.html#CouchbaseSemanticCache.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#langchain_couchbase.cache.CouchbaseSemanticCache.update" title="Permalink to this definition">Â¶</a></dt>
<dd><p>Update cache based on the prompt and llm_string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>prompt</strong> (<em>str</em>) â€“ </p></li>
<li><p><strong>llm_string</strong> (<em>str</em>) â€“ </p></li>
<li><p><strong>return_val</strong> (<em>Sequence</em><em>[</em><a class="reference internal" href="../outputs/langchain_core.outputs.generation.Generation.html#langchain_core.outputs.generation.Generation" title="langchain_core.outputs.generation.Generation"><em>Generation</em></a><em>]</em>) â€“ </p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<ul class="simple">
</ul>
</section>


            </div>
            <div class="container">
                <footer class="sk-content-footer">
                                &copy; 2023, LangChain, Inc.
                                    .
                            Last updated
                                on Dec 05, 2024.
                </footer>
            </div>
        </div>
    </div>
<script src="../_static/js/vendor/bootstrap.min.js"></script>
<script>
$(document).ready(function() {
    /* Add a [>>>] button on the top-right corner of code samples to hide
     * the >>> and ... prompts and the output and thus make the code
     * copyable. */
    var div = $('.highlight-python .highlight,' +
                '.highlight-python3 .highlight,' +
                '.highlight-pycon .highlight,' +
		'.highlight-default .highlight')
    var pre = div.find('pre');

    // get the styles from the current theme
    pre.parent().parent().css('position', 'relative');
    var hide_text = 'Hide prompts and outputs';
    var show_text = 'Show prompts and outputs';

    // create and add the button to all the code blocks that contain >>>
    div.each(function(index) {
        var jthis = $(this);
        if (jthis.find('.gp').length > 0) {
            var button = $('<span class="copybutton">&gt;&gt;&gt;</span>');
            button.attr('title', hide_text);
            button.data('hidden', 'false');
            jthis.prepend(button);
        }
        // tracebacks (.gt) contain bare text elements that need to be
        // wrapped in a span to work with .nextUntil() (see later)
        jthis.find('pre:has(.gt)').contents().filter(function() {
            return ((this.nodeType == 3) && (this.data.trim().length > 0));
        }).wrap('<span>');
    });

    // define the behavior of the button when it's clicked
    $('.copybutton').click(function(e){
        e.preventDefault();
        var button = $(this);
        if (button.data('hidden') === 'false') {
            // hide the code output
            button.parent().find('.go, .gp, .gt').hide();
            button.next('pre').find('.gt').nextUntil('.gp, .go').css('visibility', 'hidden');
            button.css('text-decoration', 'line-through');
            button.attr('title', show_text);
            button.data('hidden', 'true');
        } else {
            // show the code output
            button.parent().find('.go, .gp, .gt').show();
            button.next('pre').find('.gt').nextUntil('.gp, .go').css('visibility', 'visible');
            button.css('text-decoration', 'none');
            button.attr('title', hide_text);
            button.data('hidden', 'false');
        }
    });

	/*** Add permalink buttons next to glossary terms ***/
	$('dl.glossary > dt[id]').append(function() {
		return ('<a class="headerlink" href="#' +
			    this.getAttribute('id') +
			    '" title="Permalink to this term">Â¶</a>');
	});
});

</script>
    
</body>
</html>